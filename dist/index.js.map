{"version":3,"sources":["../js/player/index.js"],"names":["Object","value","exports","_sprite","_interopRequireDefault","require","_bullet","_databus","obj","Symbol","_typeof","instance","i","props","descriptor","_defineProperties","Constructor","superClass","subClass","constructor","writable","configurable","_setPrototypeOf","o","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","result","Reflect","_possibleConstructorReturn","call","_assertThisInitialized","self","Date","screenWidth","window","screenHeight","PLAYER_IMG_SRC","PLAYER_WIDTH","PLAYER_HEIGHT","databus","Player","_inherits","_super","_createSuper","_classCallCheck","_this","_createClass","key","deviation","x","y","disX","disY","_this2","canvas","e","bullet"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _sprite = _interopRequireDefault(require(\"../base/sprite\"));\n\nvar _bullet = _interopRequireDefault(require(\"./bullet\"));\n\nvar _databus = _interopRequireDefault(require(\"../databus\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar screenWidth = window.innerWidth;\nvar screenHeight = window.innerHeight; // 玩家相关常量设置\n\nvar PLAYER_IMG_SRC = 'images/hero.png';\nvar PLAYER_WIDTH = 80;\nvar PLAYER_HEIGHT = 80;\nvar databus = new _databus[\"default\"]();\n\nvar Player = /*#__PURE__*/function (_Sprite) {\n  _inherits(Player, _Sprite);\n\n  var _super = _createSuper(Player);\n\n  function Player() {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _super.call(this, PLAYER_IMG_SRC, PLAYER_WIDTH, PLAYER_HEIGHT); // 玩家默认处于屏幕底部居中位置\n\n    _this.x = screenWidth / 2 - _this.width / 2;\n    _this.y = screenHeight - _this.height - 30; // 用于在手指移动的时候标识手指是否已经在飞机上了\n\n    _this.touched = false;\n    _this.bullets = []; // 初始化事件监听\n\n    _this.initEvent();\n\n    return _this;\n  }\n  /**\n   * 当手指触摸屏幕的时候\n   * 判断手指是否在飞机上\n   * @param {Number} x: 手指的X轴坐标\n   * @param {Number} y: 手指的Y轴坐标\n   * @return {Boolean}: 用于标识手指是否在飞机上的布尔值\n   */\n\n\n  _createClass(Player, [{\n    key: \"checkIsFingerOnAir\",\n    value: function checkIsFingerOnAir(x, y) {\n      var deviation = 30;\n      return !!(x >= this.x - deviation && y >= this.y - deviation && x <= this.x + this.width + deviation && y <= this.y + this.height + deviation);\n    }\n    /**\n     * 根据手指的位置设置飞机的位置\n     * 保证手指处于飞机中间\n     * 同时限定飞机的活动范围限制在屏幕中\n     */\n\n  }, {\n    key: \"setAirPosAcrossFingerPosZ\",\n    value: function setAirPosAcrossFingerPosZ(x, y) {\n      var disX = x - this.width / 2;\n      var disY = y - this.height / 2;\n      if (disX < 0) disX = 0;else if (disX > screenWidth - this.width) disX = screenWidth - this.width;\n      if (disY <= 0) disY = 0;else if (disY > screenHeight - this.height) disY = screenHeight - this.height;\n      this.x = disX;\n      this.y = disY;\n    }\n    /**\n     * 玩家响应手指的触摸事件\n     * 改变战机的位置\n     */\n\n  }, {\n    key: \"initEvent\",\n    value: function initEvent() {\n      var _this2 = this;\n\n      canvas.addEventListener('touchstart', function (e) {\n        e.preventDefault();\n        var x = e.touches[0].clientX;\n        var y = e.touches[0].clientY; //\n\n        if (_this2.checkIsFingerOnAir(x, y)) {\n          _this2.touched = true;\n\n          _this2.setAirPosAcrossFingerPosZ(x, y);\n        }\n      }.bind(this));\n      canvas.addEventListener('touchmove', function (e) {\n        e.preventDefault();\n        var x = e.touches[0].clientX;\n        var y = e.touches[0].clientY;\n        if (_this2.touched) _this2.setAirPosAcrossFingerPosZ(x, y);\n      }.bind(this));\n      canvas.addEventListener('touchend', function (e) {\n        e.preventDefault();\n        _this2.touched = false;\n      }.bind(this));\n    }\n    /**\n     * 玩家射击操作\n     * 射击时机由外部决定\n     */\n\n  }, {\n    key: \"shoot\",\n    value: function shoot() {\n      var bullet = databus.pool.getItemByClass('bullet', _bullet[\"default\"]);\n      bullet.init(this.x + this.width / 2 - bullet.width / 2, this.y - 10, 10);\n      databus.bullets.push(bullet);\n    }\n  }]);\n\n  return Player;\n}(_sprite[\"default\"]);\n\nexports[\"default\"] = Player;"],"file":"index.js"}