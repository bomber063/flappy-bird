{"version":3,"sources":["../js/base/pool.js"],"names":["Object","value","exports","instance","i","props","descriptor","_defineProperties","Constructor","__","poolDic","Symbol","Pool","_classCallCheck","_createClass","key","pool","result"],"mappings":"AAAA;;AAEAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,YAAAA,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7CD;AAGAE,OAAO,CAAPA,SAAO,CAAPA,GAAqB,KAArBA,CAAAA;;AAEA,SAAA,eAAA,CAAA,QAAA,EAAA,WAAA,EAAgD;AAAE,MAAI,EAAEC,QAAQ,YAAd,WAAI,CAAJ,EAAwC;AAAE,UAAM,IAAA,SAAA,CAAN,mCAAM,CAAN;AAA2D;AAAE;;AAEzJ,SAAA,iBAAA,CAAA,MAAA,EAAA,KAAA,EAA0C;AAAE,OAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGC,KAAK,CAAzB,MAAA,EAAkCD,CAAlC,EAAA,EAAuC;AAAE,QAAIE,UAAU,GAAGD,KAAK,CAAtB,CAAsB,CAAtB;AAA2BC,IAAAA,UAAU,CAAVA,UAAAA,GAAwBA,UAAU,CAAVA,UAAAA,IAAxBA,KAAAA;AAAwDA,IAAAA,UAAU,CAAVA,YAAAA,GAAAA,IAAAA;AAAgC,QAAI,WAAJ,UAAA,EAA2BA,UAAU,CAAVA,QAAAA,GAAAA,IAAAA;AAA4BN,IAAAA,MAAM,CAANA,cAAAA,CAAAA,MAAAA,EAA8BM,UAAU,CAAxCN,GAAAA,EAAAA,UAAAA;AAA4D;AAAE;;AAE7T,SAAA,YAAA,CAAA,WAAA,EAAA,UAAA,EAAA,WAAA,EAA4D;AAAE,MAAA,UAAA,EAAgBO,iBAAiB,CAACC,WAAW,CAAZ,SAAA,EAAjBD,UAAiB,CAAjBA;AAAsD,MAAA,WAAA,EAAiBA,iBAAiB,CAAA,WAAA,EAAjBA,WAAiB,CAAjBA;AAA6C,SAAA,WAAA;AAAqB;;AAEvN,IAAIE,EAAE,GAAG;AACPC,EAAAA,OAAO,EAAEC,MAAM,CAAA,SAAA;AADR,CAAT;AAGA;;;;;;;AAOA,IAAIC,IAAI,GAAG,aAAa,YAAY;AAClC,WAAA,IAAA,GAAgB;AACdC,IAAAA,eAAe,CAAA,IAAA,EAAfA,IAAe,CAAfA;;AAEA,SAAKJ,EAAE,CAAP,OAAA,IAAA,EAAA;AACD;AACD;;;;;;AAMAK,EAAAA,YAAY,CAAA,IAAA,EAAO,CAAC;AAClBC,IAAAA,GAAG,EADe,eAAA;AAElBd,IAAAA,KAAK,EAAE,SAAA,aAAA,CAAA,IAAA,EAA6B;AAClC,aAAO,KAAKQ,EAAE,CAAP,OAAA,EAAA,IAAA,MAA2B,KAAKA,EAAE,CAAP,OAAA,EAAA,IAAA,IAAlC,EAAO,CAAP;AACD;AACD;;;;;AALkB,GAAD,EAUhB;AACDM,IAAAA,GAAG,EADF,gBAAA;AAEDd,IAAAA,KAAK,EAAE,SAAA,cAAA,CAAA,IAAA,EAAA,SAAA,EAAyC;AAC9C,UAAIe,IAAI,GAAG,KAAA,aAAA,CAAX,IAAW,CAAX;AACA,UAAIC,MAAM,GAAGD,IAAI,CAAJA,MAAAA,GAAcA,IAAI,CAAlBA,KAAcA,EAAdA,GAA6B,IAA1C,SAA0C,EAA1C;AACA,aAAA,MAAA;AACD;AACD;;;;;AAPC,GAVgB,EAsBhB;AACDD,IAAAA,GAAG,EADF,SAAA;AAEDd,IAAAA,KAAK,EAAE,SAAA,OAAA,CAAA,IAAA,EAAA,QAAA,EAAiC;AACtC,WAAA,aAAA,CAAA,IAAA,EAAA,IAAA,CAAA,QAAA;AACD;AAJA,GAtBgB,CAAP,CAAZa;;AA6BA,SAAA,IAAA;AAzCF,CAAwB,EAAxB;;AA4CAZ,OAAO,CAAPA,SAAO,CAAPA,GAAAA,IAAAA","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __ = {\n  poolDic: Symbol('poolDic')\n};\n/**\n * 简易的对象池实现\n * 用于对象的存贮和重复使用\n * 可以有效减少对象创建开销和避免频繁的垃圾回收\n * 提高游戏性能\n */\n\nvar Pool = /*#__PURE__*/function () {\n  function Pool() {\n    _classCallCheck(this, Pool);\n\n    this[__.poolDic] = {};\n  }\n  /**\n   * 根据对象标识符\n   * 获取对应的对象池\n   */\n\n\n  _createClass(Pool, [{\n    key: \"getPoolBySign\",\n    value: function getPoolBySign(name) {\n      return this[__.poolDic][name] || (this[__.poolDic][name] = []);\n    }\n    /**\n     * 根据传入的对象标识符，查询对象池\n     * 对象池为空创建新的类，否则从对象池中取\n     */\n\n  }, {\n    key: \"getItemByClass\",\n    value: function getItemByClass(name, className) {\n      var pool = this.getPoolBySign(name);\n      var result = pool.length ? pool.shift() : new className();\n      return result;\n    }\n    /**\n     * 将对象回收到对象池\n     * 方便后续继续使用\n     */\n\n  }, {\n    key: \"recover\",\n    value: function recover(name, instance) {\n      this.getPoolBySign(name).push(instance);\n    }\n  }]);\n\n  return Pool;\n}();\n\nexports[\"default\"] = Pool;"],"file":"pool.js"}