{"version":3,"sources":["../js/base/sprite.js"],"names":["Object","value","exports","instance","i","props","descriptor","_defineProperties","Constructor","Sprite","imgSrc","arguments","width","height","x","y","_classCallCheck","_createClass","key","ctx","spX","sp","spY"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * 游戏基础的精灵类\n */\nvar Sprite = /*#__PURE__*/function () {\n  function Sprite() {\n    var imgSrc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var x = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    var y = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n    _classCallCheck(this, Sprite);\n\n    this.img = new Image();\n    this.img.src = imgSrc;\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.visible = true;\n  }\n  /**\n   * 将精灵图绘制在canvas上\n   */\n\n\n  _createClass(Sprite, [{\n    key: \"drawToCanvas\",\n    value: function drawToCanvas(ctx) {\n      if (!this.visible) return;\n      ctx.drawImage(this.img, this.x, this.y, this.width, this.height);\n    }\n    /**\n     * 简单的碰撞检测定义：\n     * 另一个精灵的中心点处于本精灵所在的矩形内即可\n     * @param{Sprite} sp: Sptite的实例\n     */\n\n  }, {\n    key: \"isCollideWith\",\n    value: function isCollideWith(sp) {\n      var spX = sp.x + sp.width / 2;\n      var spY = sp.y + sp.height / 2;\n      if (!this.visible || !sp.visible) return false;\n      return !!(spX >= this.x && spX <= this.x + this.width && spY >= this.y && spY <= this.y + this.height);\n    }\n  }]);\n\n  return Sprite;\n}();\n\nexports[\"default\"] = Sprite;"],"file":"sprite.js"}